<template>
    <template if:true={isLoading}>
        <ui-spinner></ui-spinner>
    </template>
    <div class="slds-page-header slds-var-m-around_medium">
        <div class="slds-page-header__row">
            <div class="slds-page-header__col-title">
                <div class="slds-media">
                    <div class="slds-media__figure">
                        <span class="slds-icon_container slds-icon-standard-flow" title="flow">
                            <svg class="slds-icon slds-page-header__icon" aria-hidden="true">
                                <use xlink:href="assets/slds/icons/standard-sprite/svg/symbols.svg#flow"></use>
                            </svg>
                            <span class="slds-assistive-text">flow</span>
                        </span>
                    </div>
                    <div class="slds-media__body">
                        <div class="slds-page-header__name">
                            <div class="slds-page-header__name-title">
                                <h1>
                                    <span class="slds-page-header__title slds-truncate" title="Flowdoc">Flowdoc</span>
                                </h1>
                            </div>
                        </div>
                        <p class="slds-page-header__name-meta">
                            {message}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <template if:true={flowList}>
        <div class="slds-scrollable slds-grow slds-var-m-horizontal_medium slds-var-m-bottom_medium">
            <div class="slds-scrollable_none">
                <table
                    aria-multiselectable="true"
                    class="slds-table slds-no-row-hover slds-table_bordered slds-table_fixed-layout"
                    role="grid"
                >
                    <thead>
                        <tr class="slds-line-height_reset">
                            <th class="" scope="col" style="width: 4rem; height: 2rem;">
                                <div class="slds-truncate slds-assistive-text">Buttons</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate">Name</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate">API Name</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate">Last Modified Date</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate">Last Modified By</div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <template for:each={flowList} for:item="flow">
                            <tr aria-selected="false" class="slds-hint-parent" key={flow.fullName}>
                                <td class="slds-text-align_right" role="gridcell" tabindex="0">
                                    <template if:true={flow.isSupported}>
                                        <label class="slds-checkbox-button">
                                            <input class="slds-assistive-text" type="checkbox" tabindex="-1" />
                                            <span
                                                class="slds-icon_container slds-icon-utility-download slds-current-color"
                                            >
                                                <svg class="slds-icon slds-icon_x-small" aria-hidden="true">
                                                    <use xlink:href="utility-symbols.svg#download"></use>
                                                </svg>
                                                <span class="slds-assistive-text">Download PDF</span>
                                            </span>
                                        </label>
                                    </template>
                                </td>
                                <th scope="row">
                                    <div class="slds-truncate" style="line-height: 2rem;">{flow.detail.label}</div>
                                </th>
                                <td role="gridcell"><div class="slds-truncate">{flow.fullName}</div></td>
                                <td role="gridcell">{flow.formattedLastModifiedDate}</td>
                                <td role="gridcell">{flow.lastModifiedByName}</td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </div>
    </template>
</template>
